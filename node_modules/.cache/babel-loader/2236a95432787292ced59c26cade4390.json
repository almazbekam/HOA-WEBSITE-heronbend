{"ast":null,"code":"import { onAuthStateChanged, sendEmailVerification, createUserWithEmailAndPassword, sendPasswordResetEmail, sendSignInLinkToEmail, signInWithEmailAndPassword, signInWithEmailLink, FacebookAuthProvider, GithubAuthProvider, GoogleAuthProvider, TwitterAuthProvider, OAuthProvider, signInWithPopup, updateEmail, updatePassword, updateProfile, verifyBeforeUpdateEmail, onIdTokenChanged } from 'firebase/auth';\nimport { useMemo, useReducer, useCallback, useEffect, useState } from 'react';\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\n\nfunction __awaiter(thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n}\n\nfunction __generator(thisArg, body) {\n  var _ = {\n    label: 0,\n    sent: function () {\n      if (t[0] & 1) throw t[1];\n      return t[1];\n    },\n    trys: [],\n    ops: []\n  },\n      f,\n      y,\n      t,\n      g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n\n    while (_) try {\n      if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n      if (y = 0, t) op = [op[0] & 2, t.value];\n\n      switch (op[0]) {\n        case 0:\n        case 1:\n          t = op;\n          break;\n\n        case 4:\n          _.label++;\n          return {\n            value: op[1],\n            done: false\n          };\n\n        case 5:\n          _.label++;\n          y = op[1];\n          op = [0];\n          continue;\n\n        case 7:\n          op = _.ops.pop();\n\n          _.trys.pop();\n\n          continue;\n\n        default:\n          if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n            _ = 0;\n            continue;\n          }\n\n          if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n            _.label = op[1];\n            break;\n          }\n\n          if (op[0] === 6 && _.label < t[1]) {\n            _.label = t[1];\n            t = op;\n            break;\n          }\n\n          if (t && _.label < t[2]) {\n            _.label = t[2];\n\n            _.ops.push(op);\n\n            break;\n          }\n\n          if (t[2]) _.ops.pop();\n\n          _.trys.pop();\n\n          continue;\n      }\n\n      op = body.call(thisArg, _);\n    } catch (e) {\n      op = [6, e];\n      y = 0;\n    } finally {\n      f = t = 0;\n    }\n\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n}\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\n\n\nvar __assign = function () {\n  __assign = Object.assign || function __assign(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar defaultState = function (defaultValue) {\n  return {\n    loading: defaultValue === undefined || defaultValue === null,\n    value: defaultValue\n  };\n};\n\nvar reducer = function () {\n  return function (state, action) {\n    switch (action.type) {\n      case 'error':\n        return __assign(__assign({}, state), {\n          error: action.error,\n          loading: false,\n          value: undefined\n        });\n\n      case 'reset':\n        return defaultState(action.defaultValue);\n\n      case 'value':\n        return __assign(__assign({}, state), {\n          error: undefined,\n          loading: false,\n          value: action.value\n        });\n\n      default:\n        return state;\n    }\n  };\n};\n\nvar useLoadingValue = function (getDefaultValue) {\n  var defaultValue = getDefaultValue ? getDefaultValue() : undefined;\n\n  var _a = useReducer(reducer(), defaultState(defaultValue)),\n      state = _a[0],\n      dispatch = _a[1];\n\n  var reset = useCallback(function () {\n    var defaultValue = getDefaultValue ? getDefaultValue() : undefined;\n    dispatch({\n      type: 'reset',\n      defaultValue: defaultValue\n    });\n  }, [getDefaultValue]);\n  var setError = useCallback(function (error) {\n    dispatch({\n      type: 'error',\n      error: error\n    });\n  }, []);\n  var setValue = useCallback(function (value) {\n    dispatch({\n      type: 'value',\n      value: value\n    });\n  }, []);\n  return useMemo(function () {\n    return {\n      error: state.error,\n      loading: state.loading,\n      reset: reset,\n      setError: setError,\n      setValue: setValue,\n      value: state.value\n    };\n  }, [state.error, state.loading, reset, setError, setValue, state.value]);\n};\n\nvar useAuthState = function (auth, options) {\n  var _a = useLoadingValue(function () {\n    return auth.currentUser;\n  }),\n      error = _a.error,\n      loading = _a.loading,\n      setError = _a.setError,\n      setValue = _a.setValue,\n      value = _a.value;\n\n  useEffect(function () {\n    var listener = onAuthStateChanged(auth, function (user) {\n      return __awaiter(void 0, void 0, void 0, function () {\n        var e_1;\n        return __generator(this, function (_a) {\n          switch (_a.label) {\n            case 0:\n              if (!(options === null || options === void 0 ? void 0 : options.onUserChanged)) return [3\n              /*break*/\n              , 4];\n              _a.label = 1;\n\n            case 1:\n              _a.trys.push([1, 3,, 4]);\n\n              return [4\n              /*yield*/\n              , options.onUserChanged(user)];\n\n            case 2:\n              _a.sent();\n\n              return [3\n              /*break*/\n              , 4];\n\n            case 3:\n              e_1 = _a.sent();\n              setError(e_1);\n              return [3\n              /*break*/\n              , 4];\n\n            case 4:\n              setValue(user);\n              return [2\n              /*return*/\n              ];\n          }\n        });\n      });\n    }, setError);\n    return function () {\n      listener();\n    };\n  }, [auth]);\n  return [value, loading, error];\n};\n\nvar useCreateUserWithEmailAndPassword = function (auth, options) {\n  var _a = useState(),\n      error = _a[0],\n      setError = _a[1];\n\n  var _b = useState(),\n      registeredUser = _b[0],\n      setRegisteredUser = _b[1];\n\n  var _c = useState(false),\n      loading = _c[0],\n      setLoading = _c[1];\n\n  var createUserWithEmailAndPassword$1 = useCallback(function (email, password) {\n    return __awaiter(void 0, void 0, void 0, function () {\n      var user, error_1;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            setLoading(true);\n            setError(undefined);\n            _a.label = 1;\n\n          case 1:\n            _a.trys.push([1, 5, 6, 7]);\n\n            return [4\n            /*yield*/\n            , createUserWithEmailAndPassword(auth, email, password)];\n\n          case 2:\n            user = _a.sent();\n            if (!(options && options.sendEmailVerification && user.user)) return [3\n            /*break*/\n            , 4];\n            return [4\n            /*yield*/\n            , sendEmailVerification(user.user, options.emailVerificationOptions)];\n\n          case 3:\n            _a.sent();\n\n            _a.label = 4;\n\n          case 4:\n            setRegisteredUser(user);\n            return [2\n            /*return*/\n            , user];\n\n          case 5:\n            error_1 = _a.sent();\n            setError(error_1);\n            return [3\n            /*break*/\n            , 7];\n\n          case 6:\n            setLoading(false);\n            return [7\n            /*endfinally*/\n            ];\n\n          case 7:\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  }, [auth, options]);\n  return [createUserWithEmailAndPassword$1, registeredUser, loading, error];\n};\n\nvar useDeleteUser = function (auth) {\n  var _a = useState(),\n      error = _a[0],\n      setError = _a[1];\n\n  var _b = useState(false),\n      loading = _b[0],\n      setLoading = _b[1];\n\n  var deleteUser = useCallback(function () {\n    return __awaiter(void 0, void 0, void 0, function () {\n      var err_1;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            setLoading(true);\n            setError(undefined);\n            _a.label = 1;\n\n          case 1:\n            _a.trys.push([1, 5, 6, 7]);\n\n            if (!auth.currentUser) return [3\n            /*break*/\n            , 3];\n            return [4\n            /*yield*/\n            , auth.currentUser.delete()];\n\n          case 2:\n            _a.sent();\n\n            return [2\n            /*return*/\n            , true];\n\n          case 3:\n            throw new Error('No user is logged in');\n\n          case 4:\n            return [3\n            /*break*/\n            , 7];\n\n          case 5:\n            err_1 = _a.sent();\n            setError(err_1);\n            return [2\n            /*return*/\n            , false];\n\n          case 6:\n            setLoading(false);\n            return [7\n            /*endfinally*/\n            ];\n\n          case 7:\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  }, [auth]);\n  return [deleteUser, loading, error];\n};\n\nvar useSendEmailVerification = function (auth) {\n  var _a = useState(),\n      error = _a[0],\n      setError = _a[1];\n\n  var _b = useState(false),\n      loading = _b[0],\n      setLoading = _b[1];\n\n  var sendEmailVerification$1 = useCallback(function () {\n    return __awaiter(void 0, void 0, void 0, function () {\n      var err_1;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            setLoading(true);\n            setError(undefined);\n            _a.label = 1;\n\n          case 1:\n            _a.trys.push([1, 5, 6, 7]);\n\n            if (!auth.currentUser) return [3\n            /*break*/\n            , 3];\n            return [4\n            /*yield*/\n            , sendEmailVerification(auth.currentUser)];\n\n          case 2:\n            _a.sent();\n\n            return [2\n            /*return*/\n            , true];\n\n          case 3:\n            throw new Error('No user is logged in');\n\n          case 4:\n            return [3\n            /*break*/\n            , 7];\n\n          case 5:\n            err_1 = _a.sent();\n            setError(err_1);\n            return [2\n            /*return*/\n            , false];\n\n          case 6:\n            setLoading(false);\n            return [7\n            /*endfinally*/\n            ];\n\n          case 7:\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  }, [auth]);\n  return [sendEmailVerification$1, loading, error];\n};\n\nvar useSendPasswordResetEmail = function (auth) {\n  var _a = useState(),\n      error = _a[0],\n      setError = _a[1];\n\n  var _b = useState(false),\n      loading = _b[0],\n      setLoading = _b[1];\n\n  var sendPasswordResetEmail$1 = useCallback(function (email, actionCodeSettings) {\n    return __awaiter(void 0, void 0, void 0, function () {\n      var err_1;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            setLoading(true);\n            setError(undefined);\n            _a.label = 1;\n\n          case 1:\n            _a.trys.push([1, 3, 4, 5]);\n\n            return [4\n            /*yield*/\n            , sendPasswordResetEmail(auth, email, actionCodeSettings)];\n\n          case 2:\n            _a.sent();\n\n            return [2\n            /*return*/\n            , true];\n\n          case 3:\n            err_1 = _a.sent();\n            setError(err_1);\n            return [2\n            /*return*/\n            , false];\n\n          case 4:\n            setLoading(false);\n            return [7\n            /*endfinally*/\n            ];\n\n          case 5:\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  }, [auth]);\n  return [sendPasswordResetEmail$1, loading, error];\n};\n\nvar useSendSignInLinkToEmail = function (auth) {\n  var _a = useState(),\n      error = _a[0],\n      setError = _a[1];\n\n  var _b = useState(false),\n      loading = _b[0],\n      setLoading = _b[1];\n\n  var sendSignInLinkToEmail$1 = useCallback(function (email, actionCodeSettings) {\n    return __awaiter(void 0, void 0, void 0, function () {\n      var err_1;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            setLoading(true);\n            setError(undefined);\n            _a.label = 1;\n\n          case 1:\n            _a.trys.push([1, 3, 4, 5]);\n\n            return [4\n            /*yield*/\n            , sendSignInLinkToEmail(auth, email, actionCodeSettings)];\n\n          case 2:\n            _a.sent();\n\n            return [2\n            /*return*/\n            , true];\n\n          case 3:\n            err_1 = _a.sent();\n            setError(err_1);\n            return [2\n            /*return*/\n            , false];\n\n          case 4:\n            setLoading(false);\n            return [7\n            /*endfinally*/\n            ];\n\n          case 5:\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  }, [auth]);\n  return [sendSignInLinkToEmail$1, loading, error];\n};\n\nvar useSignInWithEmailAndPassword = function (auth) {\n  var _a = useState(),\n      error = _a[0],\n      setError = _a[1];\n\n  var _b = useState(),\n      loggedInUser = _b[0],\n      setLoggedInUser = _b[1];\n\n  var _c = useState(false),\n      loading = _c[0],\n      setLoading = _c[1];\n\n  var signInWithEmailAndPassword$1 = useCallback(function (email, password) {\n    return __awaiter(void 0, void 0, void 0, function () {\n      var user, err_1;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            setLoading(true);\n            setError(undefined);\n            _a.label = 1;\n\n          case 1:\n            _a.trys.push([1, 3, 4, 5]);\n\n            return [4\n            /*yield*/\n            , signInWithEmailAndPassword(auth, email, password)];\n\n          case 2:\n            user = _a.sent();\n            setLoggedInUser(user);\n            return [2\n            /*return*/\n            , user];\n\n          case 3:\n            err_1 = _a.sent();\n            setError(err_1);\n            return [3\n            /*break*/\n            , 5];\n\n          case 4:\n            setLoading(false);\n            return [7\n            /*endfinally*/\n            ];\n\n          case 5:\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  }, [auth]);\n  return [signInWithEmailAndPassword$1, loggedInUser, loading, error];\n};\n\nvar useSignInWithEmailLink = function (auth) {\n  var _a = useState(),\n      error = _a[0],\n      setError = _a[1];\n\n  var _b = useState(),\n      loggedInUser = _b[0],\n      setLoggedInUser = _b[1];\n\n  var _c = useState(false),\n      loading = _c[0],\n      setLoading = _c[1];\n\n  var signInWithEmailLink$1 = useCallback(function (email, emailLink) {\n    return __awaiter(void 0, void 0, void 0, function () {\n      var user, err_1;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            setLoading(true);\n            setError(undefined);\n            _a.label = 1;\n\n          case 1:\n            _a.trys.push([1, 3, 4, 5]);\n\n            return [4\n            /*yield*/\n            , signInWithEmailLink(auth, email, emailLink)];\n\n          case 2:\n            user = _a.sent();\n            setLoggedInUser(user);\n            return [2\n            /*return*/\n            , user];\n\n          case 3:\n            err_1 = _a.sent();\n            setError(err_1);\n            return [3\n            /*break*/\n            , 5];\n\n          case 4:\n            setLoading(false);\n            return [7\n            /*endfinally*/\n            ];\n\n          case 5:\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  }, [auth]);\n  return [signInWithEmailLink$1, loggedInUser, loading, error];\n};\n\nvar useSignInWithApple = function (auth) {\n  return useSignInWithOAuth(auth, 'apple.com');\n};\n\nvar useSignInWithFacebook = function (auth) {\n  var createFacebookAuthProvider = useCallback(function (scopes, customOAuthParameters) {\n    var provider = new FacebookAuthProvider();\n\n    if (scopes) {\n      scopes.forEach(function (scope) {\n        return provider.addScope(scope);\n      });\n    }\n\n    if (customOAuthParameters) {\n      provider.setCustomParameters(customOAuthParameters);\n    }\n\n    return provider;\n  }, []);\n  return useSignInWithPopup(auth, createFacebookAuthProvider);\n};\n\nvar useSignInWithGithub = function (auth) {\n  var createGithubAuthProvider = useCallback(function (scopes, customOAuthParameters) {\n    var provider = new GithubAuthProvider();\n\n    if (scopes) {\n      scopes.forEach(function (scope) {\n        return provider.addScope(scope);\n      });\n    }\n\n    if (customOAuthParameters) {\n      provider.setCustomParameters(customOAuthParameters);\n    }\n\n    return provider;\n  }, []);\n  return useSignInWithPopup(auth, createGithubAuthProvider);\n};\n\nvar useSignInWithGoogle = function (auth) {\n  var createGoogleAuthProvider = useCallback(function (scopes, customOAuthParameters) {\n    var provider = new GoogleAuthProvider();\n\n    if (scopes) {\n      scopes.forEach(function (scope) {\n        return provider.addScope(scope);\n      });\n    }\n\n    if (customOAuthParameters) {\n      provider.setCustomParameters(customOAuthParameters);\n    }\n\n    return provider;\n  }, []);\n  return useSignInWithPopup(auth, createGoogleAuthProvider);\n};\n\nvar useSignInWithMicrosoft = function (auth) {\n  return useSignInWithOAuth(auth, 'microsoft.com');\n};\n\nvar useSignInWithTwitter = function (auth) {\n  var createTwitterAuthProvider = useCallback(function (scopes, customOAuthParameters) {\n    var provider = new TwitterAuthProvider();\n\n    if (scopes) {\n      scopes.forEach(function (scope) {\n        return provider.addScope(scope);\n      });\n    }\n\n    if (customOAuthParameters) {\n      provider.setCustomParameters(customOAuthParameters);\n    }\n\n    return provider;\n  }, []);\n  return useSignInWithPopup(auth, createTwitterAuthProvider);\n};\n\nvar useSignInWithYahoo = function (auth) {\n  return useSignInWithOAuth(auth, 'yahoo.com');\n};\n\nvar useSignInWithOAuth = function (auth, providerId) {\n  var createOAuthProvider = useCallback(function (scopes, customOAuthParameters) {\n    var provider = new OAuthProvider(providerId);\n\n    if (scopes) {\n      scopes.forEach(function (scope) {\n        return provider.addScope(scope);\n      });\n    }\n\n    if (customOAuthParameters) {\n      provider.setCustomParameters(customOAuthParameters);\n    }\n\n    return provider;\n  }, [providerId]);\n  return useSignInWithPopup(auth, createOAuthProvider);\n};\n\nvar useSignInWithPopup = function (auth, createProvider) {\n  var _a = useState(),\n      error = _a[0],\n      setError = _a[1];\n\n  var _b = useState(),\n      loggedInUser = _b[0],\n      setLoggedInUser = _b[1];\n\n  var _c = useState(false),\n      loading = _c[0],\n      setLoading = _c[1];\n\n  var doSignInWithPopup = useCallback(function (scopes, customOAuthParameters) {\n    return __awaiter(void 0, void 0, void 0, function () {\n      var provider, user, err_1;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            setLoading(true);\n            setError(undefined);\n            _a.label = 1;\n\n          case 1:\n            _a.trys.push([1, 3, 4, 5]);\n\n            provider = createProvider(scopes, customOAuthParameters);\n            return [4\n            /*yield*/\n            , signInWithPopup(auth, provider)];\n\n          case 2:\n            user = _a.sent();\n            setLoggedInUser(user);\n            return [2\n            /*return*/\n            , user];\n\n          case 3:\n            err_1 = _a.sent();\n            setError(err_1);\n            return [3\n            /*break*/\n            , 5];\n\n          case 4:\n            setLoading(false);\n            return [7\n            /*endfinally*/\n            ];\n\n          case 5:\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  }, [auth, createProvider]);\n  return [doSignInWithPopup, loggedInUser, loading, error];\n};\n\nvar useSignOut = function (auth) {\n  var _a = useState(),\n      error = _a[0],\n      setError = _a[1];\n\n  var _b = useState(false),\n      loading = _b[0],\n      setLoading = _b[1];\n\n  var signOut = useCallback(function () {\n    return __awaiter(void 0, void 0, void 0, function () {\n      var err_1;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            setLoading(true);\n            setError(undefined);\n            _a.label = 1;\n\n          case 1:\n            _a.trys.push([1, 3, 4, 5]);\n\n            return [4\n            /*yield*/\n            , auth.signOut()];\n\n          case 2:\n            _a.sent();\n\n            return [2\n            /*return*/\n            , true];\n\n          case 3:\n            err_1 = _a.sent();\n            setError(err_1);\n            return [2\n            /*return*/\n            , false];\n\n          case 4:\n            setLoading(false);\n            return [7\n            /*endfinally*/\n            ];\n\n          case 5:\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  }, [auth]);\n  return [signOut, loading, error];\n};\n\nvar useUpdateEmail = function (auth) {\n  var _a = useState(),\n      error = _a[0],\n      setError = _a[1];\n\n  var _b = useState(false),\n      loading = _b[0],\n      setLoading = _b[1];\n\n  var updateEmail$1 = useCallback(function (email) {\n    return __awaiter(void 0, void 0, void 0, function () {\n      var err_1;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            setLoading(true);\n            setError(undefined);\n            _a.label = 1;\n\n          case 1:\n            _a.trys.push([1, 5, 6, 7]);\n\n            if (!auth.currentUser) return [3\n            /*break*/\n            , 3];\n            return [4\n            /*yield*/\n            , updateEmail(auth.currentUser, email)];\n\n          case 2:\n            _a.sent();\n\n            return [2\n            /*return*/\n            , true];\n\n          case 3:\n            throw new Error('No user is logged in');\n\n          case 4:\n            return [3\n            /*break*/\n            , 7];\n\n          case 5:\n            err_1 = _a.sent();\n            setError(err_1);\n            return [2\n            /*return*/\n            , false];\n\n          case 6:\n            setLoading(false);\n            return [7\n            /*endfinally*/\n            ];\n\n          case 7:\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  }, [auth]);\n  return [updateEmail$1, loading, error];\n};\n\nvar useUpdatePassword = function (auth) {\n  var _a = useState(),\n      error = _a[0],\n      setError = _a[1];\n\n  var _b = useState(false),\n      loading = _b[0],\n      setLoading = _b[1];\n\n  var updatePassword$1 = useCallback(function (password) {\n    return __awaiter(void 0, void 0, void 0, function () {\n      var err_2;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            setLoading(true);\n            setError(undefined);\n            _a.label = 1;\n\n          case 1:\n            _a.trys.push([1, 5, 6, 7]);\n\n            if (!auth.currentUser) return [3\n            /*break*/\n            , 3];\n            return [4\n            /*yield*/\n            , updatePassword(auth.currentUser, password)];\n\n          case 2:\n            _a.sent();\n\n            return [2\n            /*return*/\n            , true];\n\n          case 3:\n            throw new Error('No user is logged in');\n\n          case 4:\n            return [3\n            /*break*/\n            , 7];\n\n          case 5:\n            err_2 = _a.sent();\n            setError(err_2);\n            return [2\n            /*return*/\n            , false];\n\n          case 6:\n            setLoading(false);\n            return [7\n            /*endfinally*/\n            ];\n\n          case 7:\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  }, [auth]);\n  return [updatePassword$1, loading, error];\n};\n\nvar useUpdateProfile = function (auth) {\n  var _a = useState(),\n      error = _a[0],\n      setError = _a[1];\n\n  var _b = useState(false),\n      loading = _b[0],\n      setLoading = _b[1];\n\n  var updateProfile$1 = useCallback(function (profile) {\n    return __awaiter(void 0, void 0, void 0, function () {\n      var err_3;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            setLoading(true);\n            setError(undefined);\n            _a.label = 1;\n\n          case 1:\n            _a.trys.push([1, 5, 6, 7]);\n\n            if (!auth.currentUser) return [3\n            /*break*/\n            , 3];\n            return [4\n            /*yield*/\n            , updateProfile(auth.currentUser, profile)];\n\n          case 2:\n            _a.sent();\n\n            return [2\n            /*return*/\n            , true];\n\n          case 3:\n            throw new Error('No user is logged in');\n\n          case 4:\n            return [3\n            /*break*/\n            , 7];\n\n          case 5:\n            err_3 = _a.sent();\n            setError(err_3);\n            return [2\n            /*return*/\n            , false];\n\n          case 6:\n            setLoading(false);\n            return [7\n            /*endfinally*/\n            ];\n\n          case 7:\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  }, [auth]);\n  return [updateProfile$1, loading, error];\n};\n\nvar useVerifyBeforeUpdateEmail = function (auth) {\n  var _a = useState(),\n      error = _a[0],\n      setError = _a[1];\n\n  var _b = useState(false),\n      loading = _b[0],\n      setLoading = _b[1];\n\n  var verifyBeforeUpdateEmail$1 = useCallback(function (email, actionCodeSettings) {\n    return __awaiter(void 0, void 0, void 0, function () {\n      var err_4;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            setLoading(true);\n            setError(undefined);\n            _a.label = 1;\n\n          case 1:\n            _a.trys.push([1, 5, 6, 7]);\n\n            if (!auth.currentUser) return [3\n            /*break*/\n            , 3];\n            return [4\n            /*yield*/\n            , verifyBeforeUpdateEmail(auth.currentUser, email, actionCodeSettings)];\n\n          case 2:\n            _a.sent();\n\n            return [2\n            /*return*/\n            , true];\n\n          case 3:\n            throw new Error('No user is logged in');\n\n          case 4:\n            return [3\n            /*break*/\n            , 7];\n\n          case 5:\n            err_4 = _a.sent();\n            setError(err_4);\n            return [2\n            /*return*/\n            , false];\n\n          case 6:\n            setLoading(false);\n            return [7\n            /*endfinally*/\n            ];\n\n          case 7:\n            return [2\n            /*return*/\n            ];\n        }\n      });\n    });\n  }, [auth]);\n  return [verifyBeforeUpdateEmail$1, loading, error];\n};\n\nvar useIdToken = function (auth, options) {\n  var _a = useLoadingValue(function () {\n    return auth.currentUser;\n  }),\n      error = _a.error,\n      loading = _a.loading,\n      setError = _a.setError,\n      setValue = _a.setValue,\n      value = _a.value;\n\n  useEffect(function () {\n    var listener = onIdTokenChanged(auth, function (user) {\n      return __awaiter(void 0, void 0, void 0, function () {\n        var e_1;\n        return __generator(this, function (_a) {\n          switch (_a.label) {\n            case 0:\n              if (!(options === null || options === void 0 ? void 0 : options.onUserChanged)) return [3\n              /*break*/\n              , 4];\n              _a.label = 1;\n\n            case 1:\n              _a.trys.push([1, 3,, 4]);\n\n              return [4\n              /*yield*/\n              , options.onUserChanged(user)];\n\n            case 2:\n              _a.sent();\n\n              return [3\n              /*break*/\n              , 4];\n\n            case 3:\n              e_1 = _a.sent();\n              setError(e_1);\n              return [3\n              /*break*/\n              , 4];\n\n            case 4:\n              setValue(user);\n              return [2\n              /*return*/\n              ];\n          }\n        });\n      });\n    }, setError);\n    return function () {\n      listener();\n    };\n  }, [auth]);\n  return [value, loading, error];\n};\n\nexport { useAuthState, useCreateUserWithEmailAndPassword, useDeleteUser, useIdToken, useSendEmailVerification, useSendPasswordResetEmail, useSendSignInLinkToEmail, useSignInWithApple, useSignInWithEmailAndPassword, useSignInWithEmailLink, useSignInWithFacebook, useSignInWithGithub, useSignInWithGoogle, useSignInWithMicrosoft, useSignInWithTwitter, useSignInWithYahoo, useSignOut, useUpdateEmail, useUpdatePassword, useUpdateProfile, useVerifyBeforeUpdateEmail };","map":{"version":3,"names":["onAuthStateChanged","sendEmailVerification","createUserWithEmailAndPassword","sendPasswordResetEmail","sendSignInLinkToEmail","signInWithEmailAndPassword","signInWithEmailLink","FacebookAuthProvider","GithubAuthProvider","GoogleAuthProvider","TwitterAuthProvider","OAuthProvider","signInWithPopup","updateEmail","updatePassword","updateProfile","verifyBeforeUpdateEmail","onIdTokenChanged","useMemo","useReducer","useCallback","useEffect","useState","__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","apply","__generator","body","_","label","sent","t","trys","ops","f","y","g","verb","Symbol","iterator","n","v","op","TypeError","call","pop","length","push","__assign","Object","assign","s","i","arguments","p","prototype","hasOwnProperty","defaultState","defaultValue","loading","undefined","reducer","state","action","type","error","useLoadingValue","getDefaultValue","_a","dispatch","reset","setError","setValue","useAuthState","auth","options","currentUser","listener","user","e_1","onUserChanged","useCreateUserWithEmailAndPassword","_b","registeredUser","setRegisteredUser","_c","setLoading","createUserWithEmailAndPassword$1","email","password","error_1","emailVerificationOptions","useDeleteUser","deleteUser","err_1","delete","Error","useSendEmailVerification","sendEmailVerification$1","useSendPasswordResetEmail","sendPasswordResetEmail$1","actionCodeSettings","useSendSignInLinkToEmail","sendSignInLinkToEmail$1","useSignInWithEmailAndPassword","loggedInUser","setLoggedInUser","signInWithEmailAndPassword$1","useSignInWithEmailLink","signInWithEmailLink$1","emailLink","useSignInWithApple","useSignInWithOAuth","useSignInWithFacebook","createFacebookAuthProvider","scopes","customOAuthParameters","provider","forEach","scope","addScope","setCustomParameters","useSignInWithPopup","useSignInWithGithub","createGithubAuthProvider","useSignInWithGoogle","createGoogleAuthProvider","useSignInWithMicrosoft","useSignInWithTwitter","createTwitterAuthProvider","useSignInWithYahoo","providerId","createOAuthProvider","createProvider","doSignInWithPopup","useSignOut","signOut","useUpdateEmail","updateEmail$1","useUpdatePassword","updatePassword$1","err_2","useUpdateProfile","updateProfile$1","profile","err_3","useVerifyBeforeUpdateEmail","verifyBeforeUpdateEmail$1","err_4","useIdToken"],"sources":["/Users/almazbekamanbaev/Documents/heronbend/node_modules/react-firebase-hooks/auth/dist/index.esm.js"],"sourcesContent":["import { onAuthStateChanged, sendEmailVerification, createUserWithEmailAndPassword, sendPasswordResetEmail, sendSignInLinkToEmail, signInWithEmailAndPassword, signInWithEmailLink, FacebookAuthProvider, GithubAuthProvider, GoogleAuthProvider, TwitterAuthProvider, OAuthProvider, signInWithPopup, updateEmail, updatePassword, updateProfile, verifyBeforeUpdateEmail, onIdTokenChanged } from 'firebase/auth';\nimport { useMemo, useReducer, useCallback, useEffect, useState } from 'react';\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nfunction __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nfunction __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\n\nvar defaultState = function (defaultValue) {\r\n    return {\r\n        loading: defaultValue === undefined || defaultValue === null,\r\n        value: defaultValue,\r\n    };\r\n};\r\nvar reducer = function () { return function (state, action) {\r\n    switch (action.type) {\r\n        case 'error':\r\n            return __assign(__assign({}, state), { error: action.error, loading: false, value: undefined });\r\n        case 'reset':\r\n            return defaultState(action.defaultValue);\r\n        case 'value':\r\n            return __assign(__assign({}, state), { error: undefined, loading: false, value: action.value });\r\n        default:\r\n            return state;\r\n    }\r\n}; };\r\nvar useLoadingValue = (function (getDefaultValue) {\r\n    var defaultValue = getDefaultValue ? getDefaultValue() : undefined;\r\n    var _a = useReducer(reducer(), defaultState(defaultValue)), state = _a[0], dispatch = _a[1];\r\n    var reset = useCallback(function () {\r\n        var defaultValue = getDefaultValue ? getDefaultValue() : undefined;\r\n        dispatch({ type: 'reset', defaultValue: defaultValue });\r\n    }, [getDefaultValue]);\r\n    var setError = useCallback(function (error) {\r\n        dispatch({ type: 'error', error: error });\r\n    }, []);\r\n    var setValue = useCallback(function (value) {\r\n        dispatch({ type: 'value', value: value });\r\n    }, []);\r\n    return useMemo(function () { return ({\r\n        error: state.error,\r\n        loading: state.loading,\r\n        reset: reset,\r\n        setError: setError,\r\n        setValue: setValue,\r\n        value: state.value,\r\n    }); }, [state.error, state.loading, reset, setError, setValue, state.value]);\r\n});\n\nvar useAuthState = (function (auth, options) {\r\n    var _a = useLoadingValue(function () { return auth.currentUser; }), error = _a.error, loading = _a.loading, setError = _a.setError, setValue = _a.setValue, value = _a.value;\r\n    useEffect(function () {\r\n        var listener = onAuthStateChanged(auth, function (user) { return __awaiter(void 0, void 0, void 0, function () {\r\n            var e_1;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (!(options === null || options === void 0 ? void 0 : options.onUserChanged)) return [3 /*break*/, 4];\r\n                        _a.label = 1;\r\n                    case 1:\r\n                        _a.trys.push([1, 3, , 4]);\r\n                        return [4 /*yield*/, options.onUserChanged(user)];\r\n                    case 2:\r\n                        _a.sent();\r\n                        return [3 /*break*/, 4];\r\n                    case 3:\r\n                        e_1 = _a.sent();\r\n                        setError(e_1);\r\n                        return [3 /*break*/, 4];\r\n                    case 4:\r\n                        setValue(user);\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        }); }, setError);\r\n        return function () {\r\n            listener();\r\n        };\r\n    }, [auth]);\r\n    return [value, loading, error];\r\n});\n\nvar useCreateUserWithEmailAndPassword = (function (auth, options) {\r\n    var _a = useState(), error = _a[0], setError = _a[1];\r\n    var _b = useState(), registeredUser = _b[0], setRegisteredUser = _b[1];\r\n    var _c = useState(false), loading = _c[0], setLoading = _c[1];\r\n    var createUserWithEmailAndPassword$1 = useCallback(function (email, password) { return __awaiter(void 0, void 0, void 0, function () {\r\n        var user, error_1;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    setLoading(true);\r\n                    setError(undefined);\r\n                    _a.label = 1;\r\n                case 1:\r\n                    _a.trys.push([1, 5, 6, 7]);\r\n                    return [4 /*yield*/, createUserWithEmailAndPassword(auth, email, password)];\r\n                case 2:\r\n                    user = _a.sent();\r\n                    if (!(options && options.sendEmailVerification && user.user)) return [3 /*break*/, 4];\r\n                    return [4 /*yield*/, sendEmailVerification(user.user, options.emailVerificationOptions)];\r\n                case 3:\r\n                    _a.sent();\r\n                    _a.label = 4;\r\n                case 4:\r\n                    setRegisteredUser(user);\r\n                    return [2 /*return*/, user];\r\n                case 5:\r\n                    error_1 = _a.sent();\r\n                    setError(error_1);\r\n                    return [3 /*break*/, 7];\r\n                case 6:\r\n                    setLoading(false);\r\n                    return [7 /*endfinally*/];\r\n                case 7: return [2 /*return*/];\r\n            }\r\n        });\r\n    }); }, [auth, options]);\r\n    return [createUserWithEmailAndPassword$1, registeredUser, loading, error];\r\n});\n\nvar useDeleteUser = (function (auth) {\r\n    var _a = useState(), error = _a[0], setError = _a[1];\r\n    var _b = useState(false), loading = _b[0], setLoading = _b[1];\r\n    var deleteUser = useCallback(function () { return __awaiter(void 0, void 0, void 0, function () {\r\n        var err_1;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    setLoading(true);\r\n                    setError(undefined);\r\n                    _a.label = 1;\r\n                case 1:\r\n                    _a.trys.push([1, 5, 6, 7]);\r\n                    if (!auth.currentUser) return [3 /*break*/, 3];\r\n                    return [4 /*yield*/, auth.currentUser.delete()];\r\n                case 2:\r\n                    _a.sent();\r\n                    return [2 /*return*/, true];\r\n                case 3: throw new Error('No user is logged in');\r\n                case 4: return [3 /*break*/, 7];\r\n                case 5:\r\n                    err_1 = _a.sent();\r\n                    setError(err_1);\r\n                    return [2 /*return*/, false];\r\n                case 6:\r\n                    setLoading(false);\r\n                    return [7 /*endfinally*/];\r\n                case 7: return [2 /*return*/];\r\n            }\r\n        });\r\n    }); }, [auth]);\r\n    return [deleteUser, loading, error];\r\n});\n\nvar useSendEmailVerification = (function (auth) {\r\n    var _a = useState(), error = _a[0], setError = _a[1];\r\n    var _b = useState(false), loading = _b[0], setLoading = _b[1];\r\n    var sendEmailVerification$1 = useCallback(function () { return __awaiter(void 0, void 0, void 0, function () {\r\n        var err_1;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    setLoading(true);\r\n                    setError(undefined);\r\n                    _a.label = 1;\r\n                case 1:\r\n                    _a.trys.push([1, 5, 6, 7]);\r\n                    if (!auth.currentUser) return [3 /*break*/, 3];\r\n                    return [4 /*yield*/, sendEmailVerification(auth.currentUser)];\r\n                case 2:\r\n                    _a.sent();\r\n                    return [2 /*return*/, true];\r\n                case 3: throw new Error('No user is logged in');\r\n                case 4: return [3 /*break*/, 7];\r\n                case 5:\r\n                    err_1 = _a.sent();\r\n                    setError(err_1);\r\n                    return [2 /*return*/, false];\r\n                case 6:\r\n                    setLoading(false);\r\n                    return [7 /*endfinally*/];\r\n                case 7: return [2 /*return*/];\r\n            }\r\n        });\r\n    }); }, [auth]);\r\n    return [sendEmailVerification$1, loading, error];\r\n});\n\nvar useSendPasswordResetEmail = (function (auth) {\r\n    var _a = useState(), error = _a[0], setError = _a[1];\r\n    var _b = useState(false), loading = _b[0], setLoading = _b[1];\r\n    var sendPasswordResetEmail$1 = useCallback(function (email, actionCodeSettings) { return __awaiter(void 0, void 0, void 0, function () {\r\n        var err_1;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    setLoading(true);\r\n                    setError(undefined);\r\n                    _a.label = 1;\r\n                case 1:\r\n                    _a.trys.push([1, 3, 4, 5]);\r\n                    return [4 /*yield*/, sendPasswordResetEmail(auth, email, actionCodeSettings)];\r\n                case 2:\r\n                    _a.sent();\r\n                    return [2 /*return*/, true];\r\n                case 3:\r\n                    err_1 = _a.sent();\r\n                    setError(err_1);\r\n                    return [2 /*return*/, false];\r\n                case 4:\r\n                    setLoading(false);\r\n                    return [7 /*endfinally*/];\r\n                case 5: return [2 /*return*/];\r\n            }\r\n        });\r\n    }); }, [auth]);\r\n    return [sendPasswordResetEmail$1, loading, error];\r\n});\n\nvar useSendSignInLinkToEmail = (function (auth) {\r\n    var _a = useState(), error = _a[0], setError = _a[1];\r\n    var _b = useState(false), loading = _b[0], setLoading = _b[1];\r\n    var sendSignInLinkToEmail$1 = useCallback(function (email, actionCodeSettings) { return __awaiter(void 0, void 0, void 0, function () {\r\n        var err_1;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    setLoading(true);\r\n                    setError(undefined);\r\n                    _a.label = 1;\r\n                case 1:\r\n                    _a.trys.push([1, 3, 4, 5]);\r\n                    return [4 /*yield*/, sendSignInLinkToEmail(auth, email, actionCodeSettings)];\r\n                case 2:\r\n                    _a.sent();\r\n                    return [2 /*return*/, true];\r\n                case 3:\r\n                    err_1 = _a.sent();\r\n                    setError(err_1);\r\n                    return [2 /*return*/, false];\r\n                case 4:\r\n                    setLoading(false);\r\n                    return [7 /*endfinally*/];\r\n                case 5: return [2 /*return*/];\r\n            }\r\n        });\r\n    }); }, [auth]);\r\n    return [sendSignInLinkToEmail$1, loading, error];\r\n});\n\nvar useSignInWithEmailAndPassword = (function (auth) {\r\n    var _a = useState(), error = _a[0], setError = _a[1];\r\n    var _b = useState(), loggedInUser = _b[0], setLoggedInUser = _b[1];\r\n    var _c = useState(false), loading = _c[0], setLoading = _c[1];\r\n    var signInWithEmailAndPassword$1 = useCallback(function (email, password) { return __awaiter(void 0, void 0, void 0, function () {\r\n        var user, err_1;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    setLoading(true);\r\n                    setError(undefined);\r\n                    _a.label = 1;\r\n                case 1:\r\n                    _a.trys.push([1, 3, 4, 5]);\r\n                    return [4 /*yield*/, signInWithEmailAndPassword(auth, email, password)];\r\n                case 2:\r\n                    user = _a.sent();\r\n                    setLoggedInUser(user);\r\n                    return [2 /*return*/, user];\r\n                case 3:\r\n                    err_1 = _a.sent();\r\n                    setError(err_1);\r\n                    return [3 /*break*/, 5];\r\n                case 4:\r\n                    setLoading(false);\r\n                    return [7 /*endfinally*/];\r\n                case 5: return [2 /*return*/];\r\n            }\r\n        });\r\n    }); }, [auth]);\r\n    return [signInWithEmailAndPassword$1, loggedInUser, loading, error];\r\n});\n\nvar useSignInWithEmailLink = (function (auth) {\r\n    var _a = useState(), error = _a[0], setError = _a[1];\r\n    var _b = useState(), loggedInUser = _b[0], setLoggedInUser = _b[1];\r\n    var _c = useState(false), loading = _c[0], setLoading = _c[1];\r\n    var signInWithEmailLink$1 = useCallback(function (email, emailLink) { return __awaiter(void 0, void 0, void 0, function () {\r\n        var user, err_1;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    setLoading(true);\r\n                    setError(undefined);\r\n                    _a.label = 1;\r\n                case 1:\r\n                    _a.trys.push([1, 3, 4, 5]);\r\n                    return [4 /*yield*/, signInWithEmailLink(auth, email, emailLink)];\r\n                case 2:\r\n                    user = _a.sent();\r\n                    setLoggedInUser(user);\r\n                    return [2 /*return*/, user];\r\n                case 3:\r\n                    err_1 = _a.sent();\r\n                    setError(err_1);\r\n                    return [3 /*break*/, 5];\r\n                case 4:\r\n                    setLoading(false);\r\n                    return [7 /*endfinally*/];\r\n                case 5: return [2 /*return*/];\r\n            }\r\n        });\r\n    }); }, [auth]);\r\n    return [signInWithEmailLink$1, loggedInUser, loading, error];\r\n});\n\nvar useSignInWithApple = function (auth) {\r\n    return useSignInWithOAuth(auth, 'apple.com');\r\n};\r\nvar useSignInWithFacebook = function (auth) {\r\n    var createFacebookAuthProvider = useCallback(function (scopes, customOAuthParameters) {\r\n        var provider = new FacebookAuthProvider();\r\n        if (scopes) {\r\n            scopes.forEach(function (scope) { return provider.addScope(scope); });\r\n        }\r\n        if (customOAuthParameters) {\r\n            provider.setCustomParameters(customOAuthParameters);\r\n        }\r\n        return provider;\r\n    }, []);\r\n    return useSignInWithPopup(auth, createFacebookAuthProvider);\r\n};\r\nvar useSignInWithGithub = function (auth) {\r\n    var createGithubAuthProvider = useCallback(function (scopes, customOAuthParameters) {\r\n        var provider = new GithubAuthProvider();\r\n        if (scopes) {\r\n            scopes.forEach(function (scope) { return provider.addScope(scope); });\r\n        }\r\n        if (customOAuthParameters) {\r\n            provider.setCustomParameters(customOAuthParameters);\r\n        }\r\n        return provider;\r\n    }, []);\r\n    return useSignInWithPopup(auth, createGithubAuthProvider);\r\n};\r\nvar useSignInWithGoogle = function (auth) {\r\n    var createGoogleAuthProvider = useCallback(function (scopes, customOAuthParameters) {\r\n        var provider = new GoogleAuthProvider();\r\n        if (scopes) {\r\n            scopes.forEach(function (scope) { return provider.addScope(scope); });\r\n        }\r\n        if (customOAuthParameters) {\r\n            provider.setCustomParameters(customOAuthParameters);\r\n        }\r\n        return provider;\r\n    }, []);\r\n    return useSignInWithPopup(auth, createGoogleAuthProvider);\r\n};\r\nvar useSignInWithMicrosoft = function (auth) {\r\n    return useSignInWithOAuth(auth, 'microsoft.com');\r\n};\r\nvar useSignInWithTwitter = function (auth) {\r\n    var createTwitterAuthProvider = useCallback(function (scopes, customOAuthParameters) {\r\n        var provider = new TwitterAuthProvider();\r\n        if (scopes) {\r\n            scopes.forEach(function (scope) { return provider.addScope(scope); });\r\n        }\r\n        if (customOAuthParameters) {\r\n            provider.setCustomParameters(customOAuthParameters);\r\n        }\r\n        return provider;\r\n    }, []);\r\n    return useSignInWithPopup(auth, createTwitterAuthProvider);\r\n};\r\nvar useSignInWithYahoo = function (auth) {\r\n    return useSignInWithOAuth(auth, 'yahoo.com');\r\n};\r\nvar useSignInWithOAuth = function (auth, providerId) {\r\n    var createOAuthProvider = useCallback(function (scopes, customOAuthParameters) {\r\n        var provider = new OAuthProvider(providerId);\r\n        if (scopes) {\r\n            scopes.forEach(function (scope) { return provider.addScope(scope); });\r\n        }\r\n        if (customOAuthParameters) {\r\n            provider.setCustomParameters(customOAuthParameters);\r\n        }\r\n        return provider;\r\n    }, [providerId]);\r\n    return useSignInWithPopup(auth, createOAuthProvider);\r\n};\r\nvar useSignInWithPopup = function (auth, createProvider) {\r\n    var _a = useState(), error = _a[0], setError = _a[1];\r\n    var _b = useState(), loggedInUser = _b[0], setLoggedInUser = _b[1];\r\n    var _c = useState(false), loading = _c[0], setLoading = _c[1];\r\n    var doSignInWithPopup = useCallback(function (scopes, customOAuthParameters) { return __awaiter(void 0, void 0, void 0, function () {\r\n        var provider, user, err_1;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    setLoading(true);\r\n                    setError(undefined);\r\n                    _a.label = 1;\r\n                case 1:\r\n                    _a.trys.push([1, 3, 4, 5]);\r\n                    provider = createProvider(scopes, customOAuthParameters);\r\n                    return [4 /*yield*/, signInWithPopup(auth, provider)];\r\n                case 2:\r\n                    user = _a.sent();\r\n                    setLoggedInUser(user);\r\n                    return [2 /*return*/, user];\r\n                case 3:\r\n                    err_1 = _a.sent();\r\n                    setError(err_1);\r\n                    return [3 /*break*/, 5];\r\n                case 4:\r\n                    setLoading(false);\r\n                    return [7 /*endfinally*/];\r\n                case 5: return [2 /*return*/];\r\n            }\r\n        });\r\n    }); }, [auth, createProvider]);\r\n    return [doSignInWithPopup, loggedInUser, loading, error];\r\n};\n\nvar useSignOut = (function (auth) {\r\n    var _a = useState(), error = _a[0], setError = _a[1];\r\n    var _b = useState(false), loading = _b[0], setLoading = _b[1];\r\n    var signOut = useCallback(function () { return __awaiter(void 0, void 0, void 0, function () {\r\n        var err_1;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    setLoading(true);\r\n                    setError(undefined);\r\n                    _a.label = 1;\r\n                case 1:\r\n                    _a.trys.push([1, 3, 4, 5]);\r\n                    return [4 /*yield*/, auth.signOut()];\r\n                case 2:\r\n                    _a.sent();\r\n                    return [2 /*return*/, true];\r\n                case 3:\r\n                    err_1 = _a.sent();\r\n                    setError(err_1);\r\n                    return [2 /*return*/, false];\r\n                case 4:\r\n                    setLoading(false);\r\n                    return [7 /*endfinally*/];\r\n                case 5: return [2 /*return*/];\r\n            }\r\n        });\r\n    }); }, [auth]);\r\n    return [signOut, loading, error];\r\n});\n\nvar useUpdateEmail = function (auth) {\r\n    var _a = useState(), error = _a[0], setError = _a[1];\r\n    var _b = useState(false), loading = _b[0], setLoading = _b[1];\r\n    var updateEmail$1 = useCallback(function (email) { return __awaiter(void 0, void 0, void 0, function () {\r\n        var err_1;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    setLoading(true);\r\n                    setError(undefined);\r\n                    _a.label = 1;\r\n                case 1:\r\n                    _a.trys.push([1, 5, 6, 7]);\r\n                    if (!auth.currentUser) return [3 /*break*/, 3];\r\n                    return [4 /*yield*/, updateEmail(auth.currentUser, email)];\r\n                case 2:\r\n                    _a.sent();\r\n                    return [2 /*return*/, true];\r\n                case 3: throw new Error('No user is logged in');\r\n                case 4: return [3 /*break*/, 7];\r\n                case 5:\r\n                    err_1 = _a.sent();\r\n                    setError(err_1);\r\n                    return [2 /*return*/, false];\r\n                case 6:\r\n                    setLoading(false);\r\n                    return [7 /*endfinally*/];\r\n                case 7: return [2 /*return*/];\r\n            }\r\n        });\r\n    }); }, [auth]);\r\n    return [updateEmail$1, loading, error];\r\n};\r\nvar useUpdatePassword = function (auth) {\r\n    var _a = useState(), error = _a[0], setError = _a[1];\r\n    var _b = useState(false), loading = _b[0], setLoading = _b[1];\r\n    var updatePassword$1 = useCallback(function (password) { return __awaiter(void 0, void 0, void 0, function () {\r\n        var err_2;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    setLoading(true);\r\n                    setError(undefined);\r\n                    _a.label = 1;\r\n                case 1:\r\n                    _a.trys.push([1, 5, 6, 7]);\r\n                    if (!auth.currentUser) return [3 /*break*/, 3];\r\n                    return [4 /*yield*/, updatePassword(auth.currentUser, password)];\r\n                case 2:\r\n                    _a.sent();\r\n                    return [2 /*return*/, true];\r\n                case 3: throw new Error('No user is logged in');\r\n                case 4: return [3 /*break*/, 7];\r\n                case 5:\r\n                    err_2 = _a.sent();\r\n                    setError(err_2);\r\n                    return [2 /*return*/, false];\r\n                case 6:\r\n                    setLoading(false);\r\n                    return [7 /*endfinally*/];\r\n                case 7: return [2 /*return*/];\r\n            }\r\n        });\r\n    }); }, [auth]);\r\n    return [updatePassword$1, loading, error];\r\n};\r\nvar useUpdateProfile = function (auth) {\r\n    var _a = useState(), error = _a[0], setError = _a[1];\r\n    var _b = useState(false), loading = _b[0], setLoading = _b[1];\r\n    var updateProfile$1 = useCallback(function (profile) { return __awaiter(void 0, void 0, void 0, function () {\r\n        var err_3;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    setLoading(true);\r\n                    setError(undefined);\r\n                    _a.label = 1;\r\n                case 1:\r\n                    _a.trys.push([1, 5, 6, 7]);\r\n                    if (!auth.currentUser) return [3 /*break*/, 3];\r\n                    return [4 /*yield*/, updateProfile(auth.currentUser, profile)];\r\n                case 2:\r\n                    _a.sent();\r\n                    return [2 /*return*/, true];\r\n                case 3: throw new Error('No user is logged in');\r\n                case 4: return [3 /*break*/, 7];\r\n                case 5:\r\n                    err_3 = _a.sent();\r\n                    setError(err_3);\r\n                    return [2 /*return*/, false];\r\n                case 6:\r\n                    setLoading(false);\r\n                    return [7 /*endfinally*/];\r\n                case 7: return [2 /*return*/];\r\n            }\r\n        });\r\n    }); }, [auth]);\r\n    return [updateProfile$1, loading, error];\r\n};\r\nvar useVerifyBeforeUpdateEmail = function (auth) {\r\n    var _a = useState(), error = _a[0], setError = _a[1];\r\n    var _b = useState(false), loading = _b[0], setLoading = _b[1];\r\n    var verifyBeforeUpdateEmail$1 = useCallback(function (email, actionCodeSettings) { return __awaiter(void 0, void 0, void 0, function () {\r\n        var err_4;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    setLoading(true);\r\n                    setError(undefined);\r\n                    _a.label = 1;\r\n                case 1:\r\n                    _a.trys.push([1, 5, 6, 7]);\r\n                    if (!auth.currentUser) return [3 /*break*/, 3];\r\n                    return [4 /*yield*/, verifyBeforeUpdateEmail(auth.currentUser, email, actionCodeSettings)];\r\n                case 2:\r\n                    _a.sent();\r\n                    return [2 /*return*/, true];\r\n                case 3: throw new Error('No user is logged in');\r\n                case 4: return [3 /*break*/, 7];\r\n                case 5:\r\n                    err_4 = _a.sent();\r\n                    setError(err_4);\r\n                    return [2 /*return*/, false];\r\n                case 6:\r\n                    setLoading(false);\r\n                    return [7 /*endfinally*/];\r\n                case 7: return [2 /*return*/];\r\n            }\r\n        });\r\n    }); }, [auth]);\r\n    return [verifyBeforeUpdateEmail$1, loading, error];\r\n};\n\nvar useIdToken = (function (auth, options) {\r\n    var _a = useLoadingValue(function () { return auth.currentUser; }), error = _a.error, loading = _a.loading, setError = _a.setError, setValue = _a.setValue, value = _a.value;\r\n    useEffect(function () {\r\n        var listener = onIdTokenChanged(auth, function (user) { return __awaiter(void 0, void 0, void 0, function () {\r\n            var e_1;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (!(options === null || options === void 0 ? void 0 : options.onUserChanged)) return [3 /*break*/, 4];\r\n                        _a.label = 1;\r\n                    case 1:\r\n                        _a.trys.push([1, 3, , 4]);\r\n                        return [4 /*yield*/, options.onUserChanged(user)];\r\n                    case 2:\r\n                        _a.sent();\r\n                        return [3 /*break*/, 4];\r\n                    case 3:\r\n                        e_1 = _a.sent();\r\n                        setError(e_1);\r\n                        return [3 /*break*/, 4];\r\n                    case 4:\r\n                        setValue(user);\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        }); }, setError);\r\n        return function () {\r\n            listener();\r\n        };\r\n    }, [auth]);\r\n    return [value, loading, error];\r\n});\n\nexport { useAuthState, useCreateUserWithEmailAndPassword, useDeleteUser, useIdToken, useSendEmailVerification, useSendPasswordResetEmail, useSendSignInLinkToEmail, useSignInWithApple, useSignInWithEmailAndPassword, useSignInWithEmailLink, useSignInWithFacebook, useSignInWithGithub, useSignInWithGoogle, useSignInWithMicrosoft, useSignInWithTwitter, useSignInWithYahoo, useSignOut, useUpdateEmail, useUpdatePassword, useUpdateProfile, useVerifyBeforeUpdateEmail };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}